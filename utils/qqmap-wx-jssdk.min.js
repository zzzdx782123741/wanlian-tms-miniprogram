/**
 * 腾讯地图SDK Mock文件
 * 为了兼容现有代码，提供空的实现
 * 实际使用微信原生API替代
 */

class QQMapWX {
  constructor(options) {
    this.key = options.key || '';
  }

  // 逆地理编码：经纬度转地址（使用微信原生替代）
  reverseGeocoder(options) {
    const { location, success, fail } = options;

    // 简单的降级处理：直接返回经纬度
    if (success) {
      success({
        result: {
          address: `${location.latitude.toFixed(4)}, ${location.longitude.toFixed(4)}`
        }
      });
    }
  }

  // 地理编码：地址转经纬度
  geocoder(options) {
    const { address, success, fail } = options;

    if (success) {
      success({
        result: {
          location: {
            lat: 39.908823,
            lng: 116.397470
          }
        }
      });
    }
  }

  // 计算距离
  calculateDistance(options) {
    const { to, success, fail } = options;

    if (success) {
      success({
        result: {
          elements: to.map(() => ({ distance: 1000 }))
        }
      });
    }
  }
}

module.exports = QQMapWX;

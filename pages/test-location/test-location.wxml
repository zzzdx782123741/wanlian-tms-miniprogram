<!--pages/test-location/test-location.wxml - ä½ç½®åŠŸèƒ½æµ‹è¯•é¡µé¢-->
<view class="page">
  <view class="header">
    <view class="header-title">ğŸ“ ä½ç½®åŠŸèƒ½æµ‹è¯•</view>
    <view class="header-subtitle">æµ‹è¯•è…¾è®¯åœ°å›¾APIå’Œä½ç½®æœåŠ¡</view>
  </view>

  <!-- ä½ç½®ä¿¡æ¯å¡ç‰‡ -->
  <view class="location-card">
    <view class="location-icon">ğŸ“</view>
    <view class="location-info">
      <view class="location-label">å½“å‰ä½ç½®</view>
      <view class="location-address">{{location.address}}</view>
      <view class="location-coords" wx:if="{{location.latitude}}">
        çº¬åº¦: {{location.latitude.toFixed(4)}}, ç»åº¦: {{location.longitude.toFixed(4)}}
      </view>
    </view>
  </view>

  <!-- æµ‹è¯•æŒ‰é’® -->
  <view class="test-buttons">
    <button class="test-btn primary" bindtap="testGetLocation">
      <text class="btn-icon">ğŸ¯</text>
      æµ‹è¯•è·å–ä½ç½®
    </button>
    <button class="test-btn success" bindtap="testChooseLocation">
      <text class="btn-icon">ğŸ—ºï¸</text>
      åœ°å›¾é€‰æ‹©ä½ç½®
    </button>
    <button class="test-btn info" bindtap="testDefaultLocation">
      <text class="btn-icon">ğŸ¢</text>
      ä½¿ç”¨é»˜è®¤åœ°å€
    </button>
    <button class="test-btn warning" bindtap="clearResults">
      <text class="btn-icon">ğŸ—‘ï¸</text>
      æ¸…ç©ºæ—¥å¿—
    </button>
  </view>

  <!-- é…ç½®ä¿¡æ¯ -->
  <view class="config-card">
    <view class="config-title">âš™ï¸ é…ç½®ä¿¡æ¯</view>
    <view class="config-item">
      <text class="config-label">åœ°å›¾Key:</text>
      <text class="config-value">{{mapKey}}</text>
    </view>
    <view class="config-item">
      <text class="config-label">åŠŸèƒ½çŠ¶æ€:</text>
      <text class="config-value {{mapEnabled ? 'success' : 'error'}}">
        {{mapEnabled ? 'âœ… å·²å¯ç”¨' : 'âŒ æœªå¯ç”¨'}}
      </text>
    </view>
  </view>

  <!-- æµ‹è¯•ç»“æœæ—¥å¿— -->
  <view class="log-card" wx:if="{{testResult.length > 0}}">
    <view class="log-title">ğŸ“‹ æµ‹è¯•æ—¥å¿—</view>
    <view class="log-list">
      <view class="log-item" wx:for="{{testResult}}" wx:key="index">
        <view class="log-time">{{item.timestamp}}</view>
        <view class="log-content">
          <view class="log-title">{{item.title}}</view>
          <view class="log-message">{{item.message}}</view>
        </view>
      </view>
    </view>
  </view>
</view>

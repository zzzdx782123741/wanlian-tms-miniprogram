<!--pages/fleet/approve/approve.wxml-->
<view class="approve-container">
  <!-- 订单列表 -->
  <view class="orders-list">
    <block wx:if="{{orders.length > 0}}">
      <view
        class="order-card glass-card"
        wx:for="{{orders}}"
        wx:key="_id"
      >
        <view class="order-header" bindtap="viewDetail" data-id="{{item._id}}">
          <text class="order-id">订单号：{{item.orderNumber}}</text>
          <view class="status-badge">待审核</view>
        </view>

        <view class="order-info" bindtap="viewDetail" data-id="{{item._id}}">
          <view class="info-row">
            <text class="label">起点</text>
            <text class="value">{{item.origin}}</text>
          </view>
          <view class="info-row">
            <text class="label">终点</text>
            <text class="value">{{item.destination}}</text>
          </view>
          <view class="info-row">
            <text class="label">报价</text>
            <text class="value price">¥{{item.quotedPrice}}</text>
          </view>
        </view>

        <view class="order-actions">
          <button
            class="action-btn glass-btn"
            bindtap="approveOrder"
            data-id="{{item._id}}"
          >
            通过
          </button>
          <button
            class="action-btn glass-btn-secondary"
            bindtap="rejectOrder"
            data-id="{{item._id}}"
          >
            拒绝
          </button>
        </view>
      </view>
    </block>

    <!-- 空状态 -->
    <view wx:else class="empty-state">
      <image class="empty-icon" src="/images/icons/empty-approve.png"></image>
      <text class="empty-text">暂无待审核订单</text>
    </view>
  </view>

  <!-- 加载状态 -->
  <view wx:if="{{loading}}" class="loading-state">
    <text>加载中...</text>
  </view>
</view>

<!--pages/auth/login.wxml-->
<view class="login-container">
  <!-- Logo区域 -->
  <view class="logo-section">
    <view class="logo-placeholder">
      <text class="logo-text">万联</text>
    </view>
    <text class="app-name">万联TMS</text>
    <text class="app-slogan">智慧物流管理系统</text>
  </view>

  <!-- 开发模式切换 -->
  <view class="dev-mode-section">
    <view class="dev-mode-row" bindtap="toggleDevMode">
      <text class="dev-mode-label">开发模式</text>
      <switch checked="{{devMode}}" color="#1890ff" />
    </view>
  </view>

  <!-- 开发模式：测试账号选择 -->
  <view class="test-account-section" wx:if="{{devMode}}">
    <view class="section-title">选择测试账号</view>
    <picker
      class="account-picker"
      mode="selector"
      range="{{accountList}}"
      value="{{selectedAccountIndex}}"
      bindchange="onAccountChange"
    >
      <view class="picker-display">
        <text class="picker-text">{{accountList[selectedAccountIndex]}}</text>
        <text class="picker-arrow">▼</text>
      </view>
    </picker>
    <button class="test-login-btn" bindtap="testLogin">测试登录</button>
  </view>

  <!-- 微信授权登录 -->
  <view class="login-section">
    <button
      class="wechat-login-btn glass-btn-cta"
      open-type="getUserInfo"
      bindgetuserinfo="onGetUserInfo"
      disabled="{{loading || devMode}}"
    >
      <text class="wechat-icon">💬</text>
      <text>{{devMode ? '请使用测试登录' : '微信一键登录'}}</text>
    </button>

    <view class="tips">
      <text class="tips-text">登录即表示同意</text>
      <text class="link-text">《用户协议》</text>
      <text class="tips-text">和</text>
      <text class="link-text">《隐私政策》</text>
    </view>
  </view>
</view>
